import{j as e,r as c,a as r,C as L,b as M,S as P,c as O,L as T,d as A,T as k,F,R as w,e as E}from"./vendor.b9069248.js";const _=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerpolicy&&(t.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?t.credentials="include":o.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(o){if(o.ep)return;o.ep=!0;const t=i(o);fetch(o.href,t)}};_();const I=({mensaje:s,tipo:a})=>e("div",{className:`alerta ${a}`,children:s}),$=({presupuesto:s,setPresupuesto:a,setIsValidPresupuesto:i})=>{const[l,o]=c.exports.useState("");return e("div",{className:"contenedor-presupuesto contenedor sombra",children:r("form",{className:"formulario",onSubmit:d=>{if(d.preventDefault(),!Number(s)||Number(s)<0){o("No es un presupuesto valido");return}o(""),i(!0)},children:[r("div",{className:"campo",children:[e("label",{children:"Definir Presupuesto"}),e("input",{className:"nuevo-presupuesto",type:"number",placeholder:"A\xF1ade tu presupuesto",value:s,onChange:d=>a(Number(d.target.value))})]}),e("input",{type:"submit",value:"A\xF1adir"}),l&&e(I,{mensaje:l,tipo:"error"})]})})};const R=({presupuesto:s,gastos:a,setGastos:i,setPresupuesto:l,setIsValidPresupuesto:o})=>{const[t,d]=c.exports.useState(0),[p,u]=c.exports.useState(0),[m,v]=c.exports.useState(0),h=g=>g.toLocaleString("en-US",{style:"currency",currency:"USD"});c.exports.useEffect(()=>{const g=a.reduce((x,y)=>y.cantidad+x,0),f=s-g,S=((s-f)/s*100).toFixed(2);u(f),v(g),setTimeout(()=>{d(S)},1e3)},[a]);const N=()=>{confirm("Desea reiniciar presupuesto y gastos")&&(i([]),l(0),o(!1))};return r("div",{className:"contenedor-presupuesto contenedor sombra dos-columnas",children:[e("div",{children:e(L,{styles:M({pathColor:t>100?"#DC2626":"#3B82F6",textColor:t>100?"#DC2626":"#3B82F6",trailColor:"#F5F5F5"}),value:t,text:`${t}% Gastado`})}),r("div",{className:`${p<0?"negativo":""}`,children:[e("button",{className:"reset-app",type:"button",onClick:N,children:"Resetear App"}),r("p",{children:[e("span",{children:" Presupuesto: "})," ",h(s)]}),r("p",{children:[e("span",{children:" Disponible: "})," ",h(p)]}),r("p",{children:[e("span",{children:" Gastado: "})," ",h(m)]})]})]})},B=({presupuesto:s,setPresupuesto:a,isValidPresupuesto:i,setIsValidPresupuesto:l,gastos:o,setGastos:t})=>r("header",{children:[e("h1",{children:"Planificador de Gastos"}),i?e(R,{gastos:o,setGastos:t,setPresupuesto:a,presupuesto:s,setIsValidPresupuesto:l}):e($,{presupuesto:s,setPresupuesto:a,setIsValidPresupuesto:l})]}),V=({filtro:s,setFiltro:a})=>e("div",{className:"filtros sombra contenedor",children:e("form",{children:r("div",{className:"campo",children:[e("label",{children:" Filtrar Gastos "}),r("select",{value:s,onChange:i=>a(i.target.value),children:[e("option",{value:"",children:"-- Seleccione --"}),e("option",{value:"ahorro",children:"Ahorro"}),e("option",{value:"comida",children:"Comida"}),e("option",{value:"casa",children:"Casa"}),e("option",{value:"gastos",children:"Gastos Varios"}),e("option",{value:"ocio",children:"Ocio"}),e("option",{value:"salud",children:"Salud"}),e("option",{value:"suscripciones",children:"Suscripciones"})]})]})})});var z="/assets/cerrar.ab3aac92.svg";const J=({setModal:s,animarModal:a,setAnimarModal:i,guardarGasto:l,gastoEditar:o,setGastoEditar:t})=>{const[d,p]=c.exports.useState(""),[u,m]=c.exports.useState(""),[v,h]=c.exports.useState(""),[N,g]=c.exports.useState(""),[f,S]=c.exports.useState(""),[x,y]=c.exports.useState("");return c.exports.useEffect(()=>{Object.keys(o).length>0&&(m(o.nombre),h(o.cantidad),g(o.categoria),y(o.id),S(o.fecha))},[]),r("div",{className:"modal",children:[e("div",{className:"cerrar-modal",children:e("img",{src:z,alt:"Cerrar modal",onClick:()=>{i(!1),t({}),setTimeout(()=>{s(!1)},500)}})}),r("form",{onSubmit:n=>{if(n.preventDefault(),[u,v,N].includes("")){p("Todos los campos son obligatorios ");return}l({nombre:u,cantidad:v,categoria:N,id:x,fecha:f})},className:`formulario ${a?"animar":"cerrar"}`,children:[r("legend",{children:[" ",o.nombre?"Edit Gasto":"Nuevo Gasto"," "]}),d&&e(I,{mensaje:d,tipo:"error"}),r("div",{className:"campo",children:[e("label",{htmlFor:"nombre",children:" Nombre Gasto "}),e("input",{id:"Nombre",type:"text",placeholder:"A\xF1ade el Nombre del gasto",value:u,onChange:n=>m(n.target.value)})]}),r("div",{className:"campo",children:[e("label",{htmlFor:"cantidad",children:" Cantidad "}),e("input",{id:"cantidad",type:"number",placeholder:"A\xF1ade La cantidad del gasto: ej. 300",value:v,onChange:n=>h(Number(n.target.value))})]}),r("div",{className:"campo",children:[e("label",{htmlFor:"categoria",children:" Categoria "}),r("select",{id:"categoria",value:N,onChange:n=>g(n.target.value),children:[e("option",{value:"",children:"-- Seleccione --"}),e("option",{value:"ahorro",children:"Ahorro"}),e("option",{value:"comida",children:"Comida"}),e("option",{value:"casa",children:"Casa"}),e("option",{value:"gastos",children:"Gastos Varios"}),e("option",{value:"ocio",children:"Ocio"}),e("option",{value:"salud",children:"Salud"}),e("option",{value:"suscripciones",children:"Suscripciones"})]})]}),e("input",{type:"submit",value:o.nombre?"Guardar Cambios":"A\xF1adir Gasto"})]})]})};const U=()=>{const s=Math.random().toString(36).substr(2),a=Date.now().toString(36);return s+a},q=s=>{const a=new Date(s),i={year:"numeric",month:"long",day:"2-digit"};return a.toLocaleDateString("es-ES",i)};var H="/assets/icono_ahorro.ff2959d3.svg",K="/assets/icono_casa.1170ce11.svg",Q="/assets/icono_comida.db0a9016.svg",W="/assets/icono_gastos.e6dea3b0.svg",X="/assets/icono_ocio.ad5d0e9e.svg",Y="/assets/icono_salud.41ba3136.svg",Z="/assets/icono_suscripciones.97f04dc8.svg";const ee={ahorro:H,casa:K,comida:Q,gastos:W,ocio:X,salud:Y,suscripciones:Z},j=({gasto:s,setGastoEditar:a,eliminarGasto:i})=>{const{categoria:l,nombre:o,cantidad:t,id:d,fecha:p}=s,u=()=>e(T,{children:e(A,{onClick:()=>a(s),destructive:!0,children:"Editar"})}),m=()=>e(k,{children:e(A,{onClick:()=>i(d),children:"Eliminar"})});return e(P,{children:e(O,{leadingActions:u(),trailingActions:m(),children:r("div",{className:"gasto sombra",children:[r("div",{className:"contenido-gasto",children:[e("img",{src:ee[l],alt:"Icono Gasto"}),r("div",{className:"descripcion-gasto",children:[e("p",{className:"categoria",children:l}),e("p",{className:"nombre-gasto",children:o}),r("p",{className:"fecha-gasto",children:["Agregado el: ",e("span",{children:q(p)})]})]})]}),r("p",{className:"cantidad-gasto",children:["$",t]})]})})})},oe=({gastos:s,setGastoEditar:a,eliminarGasto:i,filtro:l,gastosFiltrados:o})=>e("div",{className:"listado-gastos contenedor",children:l?r(F,{children:[e("h2",{children:o.length?"Gastos":"No hay gastos en esta categoria"}),o.map(t=>e(j,{gasto:t,setGastoEditar:a,eliminarGasto:i},t.id))]}):r(F,{children:[e("h2",{children:s.length?"Gastos":"No hay Gastos aun"}),s.map(t=>e(j,{gasto:t,setGastoEditar:a,eliminarGasto:i},t.id))]})});var te="/assets/nuevo-gasto.3ab385ce.svg";function se(){var G;const[s,a]=c.exports.useState((G=Number(localStorage.getItem("presupuesto")))!=null?G:0),[i,l]=c.exports.useState(!1),[o,t]=c.exports.useState(!1),[d,p]=c.exports.useState(!1),[u,m]=c.exports.useState(localStorage.getItem("gastos")?JSON.parse(localStorage.getItem("gastos")):[]),[v,h]=c.exports.useState({}),[N,g]=c.exports.useState([]),[f,S]=c.exports.useState("");return c.exports.useEffect(()=>{Object.keys(v).length>0&&(t(!0),setTimeout(()=>{p(!0)},500))},[v]),c.exports.useEffect(()=>{var n;(n=Number(localStorage.setItem("presupuesto",s)))!=null},[s]),c.exports.useEffect(()=>{var n;(n=Number(localStorage.setItem("gastos",JSON.stringify(u))))!=null},[u]),c.exports.useEffect(()=>{var b;((b=Number(localStorage.getItem("presupuesto")))!=null?b:0)>0&&l(!0)},[v]),c.exports.useEffect(()=>{if(f){const n=u.filter(b=>b.categoria===f);g(n)}},[f]),r("div",{className:o?"fijar":"",children:[e(B,{gastos:u,setGastos:m,presupuesto:s,setPresupuesto:a,isValidPresupuesto:i,setIsValidPresupuesto:l}),i?r(F,{children:[r("main",{children:[e(V,{filtro:f,setFiltro:S}),e(oe,{gastos:u,setGastoEditar:h,eliminarGasto:n=>{const b=u.filter(C=>C.id!==n);m(b)},filtro:f,gastosFiltrados:N})]}),e("div",{className:"nuevo-gasto",children:e("img",{src:te,alt:"Icono Nuevo Gasto",onClick:()=>{t(!0),h({}),setTimeout(()=>{p(!0)},500)}})})]}):null,o&&e(J,{setModal:t,animarModal:d,setAnimarModal:p,guardarGasto:n=>{if(n.id){const b=u.map(C=>C.id===n.id?n:C);m(b),h({})}else n.id=U(),n.fecha=Date.now(),m([...u,n]);p(!1),setTimeout(()=>{t(!1)},500)},gastoEditar:v,setGastoEditar:h})]})}w.render(e(E.StrictMode,{children:e(se,{})}),document.getElementById("root"));
